import{r as l,p as f,u as x,w as h,j as a,M as A,L as j,S as P,a as E,O as g}from"./chunk-NL6KNZEE-DIboV0aN.js";import{v as w}from"./virtual_xyd-settings-Dh1hKWkj.js";var k=l.createContext(void 0);l.createContext(void 0);function C({children:t,analytics:n}){return f.createElement(k,{value:n},t)}function y(t){for(const n of t.providers||[])n.init();return{page(){for(const n of t.providers||[])n.page()},track(n,e){for(const r of t.providers||[]){if(!r.flatTypesOnly){r.track(n,e);continue}if(r.allowArrayTypes&&Array.isArray(e)){for(const o of e)r.track(n,o);continue}let s={};for(const o in e)typeof e[o]=="object"&&(s[o]="NOT_SUPPORTED_TYPE"),s[o]=e[o];r.track(n,s)}}}}var O=l.createContext({});function S({children:t,settings:n,loader:e}){const r=x(),[s,o]=l.useState(()=>y({providers:[]}));async function d(){const u=(await T(n,e)).filter(Boolean),c=y({providers:u});c.page(),o(c)}return l.useEffect(()=>{d()},[]),l.useEffect(()=>{s.page()},[r.pathname]),f.createElement(O,{value:{analytics:s}},f.createElement(C,{analytics:s},t))}async function T(t,n){var e;const r=Object.keys(((e=t==null?void 0:t.integrations)==null?void 0:e.analytics)||{}).map(async o=>{var d,v;const u=((v=(d=t==null?void 0:t.integrations)==null?void 0:d.analytics)==null?void 0:v[o])||[],c=await n(o);if(!c){console.error(`Cannot load provider ${o} module`);return}return Array.isArray(u)?c(...u):c(u)});return await Promise.all(r)}const _=async t=>(console.error(`Provider ${t} not found`),null),{settings:i}=w,M="/public/favicon.png";var p;const b=((p=i==null?void 0:i.theme)==null?void 0:p.favicon)||M;var m;const L=((m=i==null?void 0:i.theme)==null?void 0:m.head)||[];function X({children:t}){return a.jsxs("html",{lang:"en",children:[a.jsxs("head",{children:[a.jsx("meta",{charSet:"utf-8"}),a.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),a.jsx("link",{rel:"icon",type:"image/png",sizes:"32x32",href:b}),L.map(([n,e],r)=>f.createElement(n,{key:r,...e})),a.jsx(A,{}),a.jsx(j,{})]}),a.jsx(S,{settings:i,loader:_,children:a.jsxs("body",{children:[t,a.jsx(P,{}),a.jsx(E,{})]})})]})}const I=h(function(){return a.jsx(g,{})});export{X as Layout,I as default};
