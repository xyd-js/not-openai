import{v as x,w as h}from"./virtual_xyd-settings-Cnju76cr.js";import{r as l,p as f,u as A,j as a,M as j,L as P,S as E,e as g,O as w}from"./chunk-D4RADZKF-B4ZDeX3K.js";var k=l.createContext(void 0);l.createContext(void 0);function C({children:t,analytics:e}){return f.createElement(k,{value:e},t)}function y(t){for(const e of t.providers||[])e.init();return{page(){for(const e of t.providers||[])e.page()},track(e,n){for(const r of t.providers||[]){if(!r.flatTypesOnly){r.track(e,n);continue}if(r.allowArrayTypes&&Array.isArray(n)){for(const o of n)r.track(e,o);continue}let s={};for(const o in n)typeof n[o]=="object"&&(s[o]="NOT_SUPPORTED_TYPE"),s[o]=n[o];r.track(e,s)}}}}var O=l.createContext({});function S({children:t,settings:e,loader:n}){const r=A(),[s,o]=l.useState(()=>y({providers:[]}));async function d(){const u=(await T(e,n)).filter(Boolean),c=y({providers:u});c.page(),o(c)}return l.useEffect(()=>{d()},[]),l.useEffect(()=>{s.page()},[r.pathname]),f.createElement(O,{value:{analytics:s}},f.createElement(C,{analytics:s},t))}async function T(t,e){var n;const r=Object.keys(((n=t==null?void 0:t.integrations)==null?void 0:n.analytics)||{}).map(async o=>{var d,v;const u=((v=(d=t==null?void 0:t.integrations)==null?void 0:d.analytics)==null?void 0:v[o])||[],c=await e(o);if(!c){console.error(`Cannot load provider ${o} module`);return}return Array.isArray(u)?c(...u):c(u)});return await Promise.all(r)}const _=async t=>(console.error(`Provider ${t} not found`),null),{settings:i}=x,M="/public/favicon.png";var p;const b=((p=i==null?void 0:i.theme)==null?void 0:p.favicon)||M;var m;const L=((m=i==null?void 0:i.theme)==null?void 0:m.head)||[];function X({children:t}){return a.jsxs("html",{lang:"en",children:[a.jsxs("head",{children:[a.jsx("meta",{charSet:"utf-8"}),a.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),a.jsx("link",{rel:"icon",type:"image/png",sizes:"32x32",href:b}),L.map(([e,n],r)=>f.createElement(e,{key:r,...n})),a.jsx(j,{}),a.jsx(P,{})]}),a.jsx(S,{settings:i,loader:_,children:a.jsxs("body",{children:[t,a.jsx(E,{}),a.jsx(g,{})]})})]})}const I=h(function(){return a.jsx(w,{})});export{X as Layout,I as default};
